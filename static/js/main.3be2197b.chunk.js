(this["webpackJsonpvideo-liker"]=this["webpackJsonpvideo-liker"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/play-btn.b9e98742.png"},,function(e,t,n){e.exports=n(27)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(9),o=n.n(r),l=n(1),c=n(2),u=n(6),s=n(4),d=n(3);n(17),n(18);var v=function(){return i.a.createElement("header",{className:"header"},"Video Liker")};var p=function(e){return i.a.createElement("div",null,e.children)},m=(n(19),n(5)),f=n.n(m),y=n(7),h=(n(21),n(10)),b=n.n(h);function k(e){return e.includes("youtu")?"youtube":e.includes("vimeo")?"vimeo":null}function E(e){var t=k(e);if("youtube"===t){var n=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!n||11!==n[7].length)&&n[7]}if("vimeo"===t){var a=e.split("/");return a[a.length-1]}return null}function j(e){return V.apply(this,arguments)}function V(){return(V=Object(y.a)(f.a.mark((function e(t){var n,a,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k(t),a=E(t),"youtube"===n&&(i="http://i3.ytimg.com/vi/".concat(a,"/maxresdefault.jpg")),"vimeo"!==n){e.next=6;break}return e.next=6,fetch("https://vimeo.com/api/oembed.json?url=".concat(t)).then((function(e){return e.json()})).then((function(e){i=e.thumbnail_url}));case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={videoThumbnail:null},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.data,e.next=3,j(t.video_url);case 3:n=e.sent,this.setState({videoThumbnail:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.data,n=e.onPlayVideo,a=e.isActive,r=this.state.videoThumbnail,o={backgroundImage:"url(".concat(b.a,")")};return i.a.createElement("div",{className:"video ".concat(a?"active":""),onClick:function(e){return n(e,t)}},i.a.createElement("div",{className:"video__thumbnail"},i.a.createElement("div",{style:o,className:"video__overlay"}),i.a.createElement("img",{src:r,alt:"Thumbnail"})),i.a.createElement("div",{className:"video__info"},i.a.createElement("h5",{className:"video__title"},t.title),i.a.createElement("p",{className:"video__description"},t.description)))}}]),n}(i.a.Component);_.defaultProps={data:{title:"",description:"",video_url:""},isActive:!1,onPlayVideo:function(){}};var g=_;function w(e){var t=e.videos,n=e.onPlayVideo,a=e.activeVideo;return i.a.createElement("div",{className:"video-list"},i.a.createElement("div",{className:"video-list__container"},t.map((function(e){return i.a.createElement(g,{key:"video-".concat(e.id),isActive:e.id===a.id,onPlayVideo:n,data:e})}))))}w.defaultProps={videos:[],activeVideo:{},onPlayVideo:function(){}};var P=w,N=n(11),O=n.n(N),x=(n(23),n(24),function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).player=null,e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.initPlayer()}},{key:"initPlayer",value:function(){var e=this.props.videoUrl,t=E(e),n=k(e);t&&(this.player=new O.a(".js-plyr",this.props.options),this.player.source={type:"video",sources:[{src:t,provider:n}]})}},{key:"changeVideo",value:function(e){var t=E(e),n=k(e);this.player.source={type:"video",sources:[{src:t,provider:n}]}}},{key:"componentDidUpdate",value:function(e){e.videoUrl!==this.props.videoUrl&&(this.player?this.changeVideo(this.props.videoUrl):this.initPlayer())}},{key:"componentWillUnmount",value:function(){this.player.destroy()}},{key:"render",value:function(){return i.a.createElement("video",{className:"js-plyr plyr"})}}]),n}(i.a.Component));x.defaultProps={options:{controls:["play-large","play","progress","mute","volume","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop"}},videoUrl:""};var U=x;n(25);var A=function(){return i.a.createElement("footer",{className:"footer"},"\xa9 Video Liker 2020")},C=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={videos:[],activeVideo:null},a.playVideo=a.playVideo.bind(Object(u.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("database.json").then((function(e){return e.json()})).then((function(t){return e.setState({videos:t,activeVideo:t[0]})}))}},{key:"playVideo",value:function(e,t){e.preventDefault(),this.setState({activeVideo:t})}},{key:"render",value:function(){var e=this.state,t=e.videos,n=e.activeVideo;return i.a.createElement("div",{className:"App"},i.a.createElement(v,null),i.a.createElement(p,null,i.a.createElement("div",{className:"App__player"},i.a.createElement(U,{videoUrl:null===n||void 0===n?void 0:n.video_url})),i.a.createElement("div",{className:"App__videos"},i.a.createElement(P,{onPlayVideo:this.playVideo,activeVideo:n,videos:t}))),i.a.createElement(A,null))}}]),n}(i.a.Component);n(26);o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(C,null)),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.3be2197b.chunk.js.map