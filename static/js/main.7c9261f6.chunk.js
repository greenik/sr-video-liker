(this["webpackJsonpvideo-liker"]=this["webpackJsonpvideo-liker"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(23)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),o=n.n(r),c=n(1),l=n(2),u=n(4),s=n(3),d=(n(15),n(16),n(5)),p=n.n(d),v=n(6);n(18);function m(e){return e?e.includes("youtu")?"youtube":e.includes("vimeo")?"vimeo":null:null}function f(e){var t=m(e);if("youtube"===t){var n=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!n||11!==n[7].length)&&n[7]}if("vimeo"===t){var a=e.split("/");return a[a.length-1]}return null}function h(e){return y.apply(this,arguments)}function y(){return(y=Object(v.a)(p.a.mark((function e(t){var n,a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m(t),a=f(t),"youtube"===n&&(i="http://i3.ytimg.com/vi/".concat(a,"/maxresdefault.jpg")),"vimeo"!==n){e.next=6;break}return e.next=6,fetch("https://vimeo.com/api/oembed.json?url=".concat(t)).then((function(e){return e.json()})).then((function(e){i=e.thumbnail_url}));case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={videoThumbnail:null},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.data,e.next=3,h(t.video_url);case 3:n=e.sent,this.setState({videoThumbnail:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.data,n=e.onPlayVideo,a=e.isActive,r=this.state.videoThumbnail;return i.a.createElement("div",{className:"video ".concat(a?"active":""),onClick:function(){return n(t)}},i.a.createElement("div",{className:"video__thumbnail"},i.a.createElement("img",{src:r,alt:"Thumbnail"})),i.a.createElement("div",{className:"video__info"},i.a.createElement("h5",{className:"video__title"},t.title),i.a.createElement("p",{className:"video__description"},t.description)))}}]),n}(i.a.Component);b.defaultProps={data:{title:"",description:"",video_url:""},isActive:!1,onPlayVideo:function(){}};var k=b,j=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.videos,n=e.onPlayVideo,a=e.activeVideo;return i.a.createElement("div",{className:"video-list"},i.a.createElement("div",{className:"video-list__container"},t.map((function(e){return i.a.createElement(k,{key:"video-".concat(e.id),isActive:e.id===a.id,onPlayVideo:n,data:e})}))))}}]),n}(i.a.Component);j.defaultProps={videos:[],activeVideo:{},onPlayVideo:function(){}};var E=j,_=n(9),V=n.n(_),O=(n(20),n(21),function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).player=null,e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.initPlayer()}},{key:"initPlayer",value:function(){var e=this.props.videoUrl,t=f(e),n=m(e);t&&(this.player=new V.a(".js-plyr",this.props.options),this.player.source={type:"video",sources:[{src:t,provider:n}]})}},{key:"changeVideo",value:function(e){var t=f(e),n=m(e);this.player.source={type:"video",sources:[{src:t,provider:n}]}}},{key:"componentDidUpdate",value:function(e){e.videoUrl!==this.props.videoUrl&&(this.player?this.changeVideo(this.props.videoUrl):this.initPlayer())}},{key:"componentWillUnmount",value:function(){this.player.destroy()}},{key:"render",value:function(){return i.a.createElement("video",{className:"js-plyr plyr"})}}]),n}(i.a.Component));O.defaultProps={options:{controls:["play-large","play","progress","mute","volume","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop"}},videoUrl:""};var w=O,P=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).playVideo=function(e){a.setState({activeVideo:e})},a.state={videos:[],activeVideo:null},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("database.json").then((function(e){return e.json()})).then((function(t){return e.setState({videos:t,activeVideo:t[0]})}))}},{key:"render",value:function(){var e=this.state,t=e.videos,n=e.activeVideo;return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App__header"},"Video Liker"),i.a.createElement("div",{className:"App__player"},i.a.createElement(w,{videoUrl:null===n||void 0===n?void 0:n.video_url})),i.a.createElement("div",{className:"App__videos"},i.a.createElement(E,{onPlayVideo:this.playVideo,activeVideo:n,videos:t})))}}]),n}(i.a.Component);n(22);o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(P,null)),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.7c9261f6.chunk.js.map